function uQSP(e,t,n){var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");separator=e.indexOf("?")!==-1?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+separator+t+"="+n}function ajaxify(e){$(".spinner").removeClass("bounceOut").addClass("animated bounceIn");$(".site-title").fadeOut();$("#primary").removeClass("bounceInUp delay-500").addClass("animated bounceOutDown");$(window).scrollTop()!==0&&$("body, html").animate({scrollTop:0},0);$(window).innerWidth()<=992&&$(".frame").addClass("collapsed");$("#main").load(uQSP(e,"ajax",1),{ajax:1},function(t,n,r){setTimeout(function(){$("#primary").removeClass("bounceOutDown").addClass("bounceInUp delay-500");$(window).innerWidth()>992?$(".site-footer").css({transform:"translateY("+scrollBottom()/2+"px)"}):$(".site-footer").css({transform:"translateY(0px)"})},600);$(".frame").addClass("collapsed");$(".spinner").removeClass("bounceIn").addClass("bounceOut");$("a",".post-navigation").each(function(){$(this).addClass("ajax")});$("a.ajax","#main").on("click",function(e){e.preventDefault();$("li","#secondary").removeClass("active");$(".site-footer").fadeOut(200);ajaxify($(this).attr("href"))});$("a",".post-preview").on("click",function(){$(this).addClass("animated flipOutY")});setTimeout(function(){$(".site-title").css("background-image","url("+$("h1:first-child","#main").attr("data-bgi")+")").fadeIn(150)},300);setTimeout(function(){$(".site-footer").fadeIn(150)},1600);history.pushState({},"",e)})}var Konami=function(e){var t={addEvent:function(e,t,n,r){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent){e["e"+t+n]=n;e[t+n]=function(){e["e"+t+n](window.event,r)};e.attachEvent("on"+t,e[t+n])}},input:"",pattern:"38384040373937396665",load:function(e){this.addEvent(document,"keydown",function(n,r){r&&(t=r);t.input+=n?n.keyCode:event.keyCode;t.input.length>t.pattern.length&&(t.input=t.input.substr(t.input.length-t.pattern.length));if(t.input===t.pattern){t.code(e);t.input="";n.preventDefault();return!1}},this);this.iphone.load(e)},code:function(e){window.location=e},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],code:function(e){t.code(e)},load:function(e){this.orig_keys=this.keys;t.addEvent(document,"touchmove",function(e){if(e.touches.length===1&&t.iphone.capture===!0){var n=e.touches[0];t.iphone.stop_x=n.pageX;t.iphone.stop_y=n.pageY;t.iphone.tap=!1;t.iphone.capture=!1;t.iphone.check_direction()}});t.addEvent(document,"touchend",function(){t.iphone.tap===!0&&t.iphone.check_direction(e)},!1);t.addEvent(document,"touchstart",function(e){t.iphone.start_x=e.changedTouches[0].pageX;t.iphone.start_y=e.changedTouches[0].pageY;t.iphone.tap=!0;t.iphone.capture=!0})},check_direction:function(e){var t=Math.abs(this.start_x-this.stop_x),n=Math.abs(this.start_y-this.stop_y),r=this.start_x-this.stop_x<0?"RIGHT":"LEFT",i=this.start_y-this.stop_y<0?"DOWN":"UP",s=t>n?r:i;s=this.tap===!0?"TAP":s;s===this.keys[0]&&(this.keys=this.keys.slice(1,this.keys.length));if(this.keys.length===0){this.keys=this.orig_keys;this.code(e)}}}};typeof e=="string"&&t.load(e);if(typeof e=="function"){t.code=e;t.load()}return t},scrollBottom=function(){return $(document).height()-$(window).height()-$(window).scrollTop()},setTitle=function(e){$("title","head").text(e)},setBodyClass=function(e){$("body").removeClass().addClass(e)},easter_egg=new Konami,konamighost,konamisound;easter_egg.code=function(){if(!$(".konami").hasClass("active")){$(".konami").addClass("active");konamighost=setInterval(function(){$(".ghost").toggleClass("step2")},500)}else{var e=$(".ghost",".konami").first().clone();e.css("top",Math.ceil(Math.random()*90)+5+"%");$(".konami").append(e.clone(!0))}konamisound.play()};easter_egg.load();$(document).ready(function(){function t(t){e=t}var e;window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",function(e){if($(window).innerWidth()<=992){$("body").addClass("hellyesdeviceorientation");var t=Math.round((-e.beta+90)*(40/180)-20),n=Math.round(-e.gamma*(20/180)-40);n>0?n=-n:n<-40&&(n=-(n+80));var r=n+"px "+t+"px";$(".entry-title, .site-title").css("background-position",r)}},!1);if($(window).innerWidth()<=992){$("body, html").removeClass("overflow-fix");$(".frame").addClass("collapsed")}else $(".site-footer").css({transform:"translateY("+scrollBottom()/2+"px)"});$(window).scroll(function(){if($(window).innerWidth()>992){var e=$(window).scrollTop(),t=e/2,n=t/2>=25?25:t/2;$(".site-title").css({transform:"translateY(-"+t+"px)","-webkit-filter":"blur("+n+"px) grayscale("+t/2+"%)"});$(".entry-title").css("background-position","0 -"+t+"px")}});$(window).scroll(function(){if($(window).innerWidth()>992){var e=scrollBottom(),t=e/2;$(".site-footer").css({transform:"translateY("+t+"px)"})}});$(window).resize(function(){if($(window).innerWidth()<=992){$(".site-footer, .site-header").css({transform:"translateY(0px)"});$(".entry-title").css("background-position","0 0")}});$("#secondary").hover(function(){$(window).innerWidth()>992&&$(".frame").removeClass("collapsed")},function(){$(window).innerWidth()>992&&$(".frame").addClass("collapsed")});$("h1.widget-title").click(function(){if($(window).innerWidth()<=992)if($(".frame").hasClass("collapsed")){$("body, html").addClass("overflow-fix");$(".frame").removeClass("collapsed")}else{$("body, html").removeClass("overflow-fix");$(".frame").addClass("collapsed")}});$("a",".post-navigation").each(function(){$(this).addClass("ajax")});$("a",".entry-meta").each(function(){$(this).hasClass("post-edit-link")||$(this).addClass("ajax")});$("a.ajax").on("click",function(e){e.preventDefault();$(".frame").addClass("collapsed");$("li","#secondary").removeClass("active");$(".site-footer").fadeOut(200);$(window).innerWidth()<=992&&$("body, html").removeClass("overflow-fix");$(this).parent().addClass("active");ajaxify($(this).attr("href"))});$(".site-title").css("background-image","url("+$("h1:first-child","#main").attr("data-bgi")+")");konamisound=soundManager.createSound({id:"boo",url:$("audio",".konami").attr("src"),autoLoad:!0,autoPlay:!1,onload:function(){},volume:75})});